### Redis雪崩、击穿、穿透
#### Redis雪崩
**概念：**
对于需要定时刷新的数据，同一时间大面积的数据失效，所有查询直接作用到数据库上，直接将数据库打挂掉
**处理办法：**
+ 在批量往Redis存数据的时候，把每个Key的失效时间都加个随机值
+ 设置热点数据永远不过期，有更新操作就更新缓存就好了
#### 缓存穿透
**概念：**
缓存和数据库中都没有数据，在不停的查询下，会导致数据库压力过大，严重会击垮数据库，这类问题多数为人为攻击
**处理办法：**
+ 做参数校验，不合法参数直接返回
+ 在数据库中没有查询到，这时也可以将对应Key的Value对写为null等
+ 网关做拦截等
+ 布隆过滤器（Bloom Filter）：利用高效的数据结构和算法快速判断出你这个Key是否在数据库中存在，不存在你return就好了，存在你就去查了DB刷新KV再return
#### 缓存击穿
**概念：**
缓存击穿与雪崩相似，指一个Key非常热点，在不停的扛着大并发，大并发集中对这一个点进行访问，当这个Key在失效的瞬间，持续的大并发就穿破缓存，直接请求数据库
**处理办法：**
设置热点数据永远不过期，或者加上互斥锁

一般避免以上情况发生我们从三个时间段去分析下：
+ 事前：Redis 高可用，主从+哨兵，Redis cluster，避免全盘崩溃。
+ 事中：本地 ehcache 缓存 + Hystrix 限流+降级，避免 MySQL 被打死。
+ 事后：Redis 持久化 RDB+AOF，一旦重启，自动从磁盘上加载数据，快速恢复缓存数据。
